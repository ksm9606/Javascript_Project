<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="weather.js" defer></script>
    <link rel="stylesheet" href="weather.css">
</head>
<body>
    <div id="weather_info">
        <h1 class="city"></h1>

        <section>
            <p class="w_id"></p> 
            <div class="wrap1">
                <figure class="icon">
                </figure>
                <p class="temp"></p>  
            </div>
            
            <aside>
                    <p class="temp_max"></p>      
                    <p class="temp_min"></p>
            </aside>
            </section>
    </div>



    <script>
        
        var url = 'http://api.openweathermap.org/data/2.5/weather?q=changwon&appid=ac47ea5692c1498d6815daf668a7ed8c';

        $.getJSON(url, function(data){

            // 날씨 데이터 객체
			var sys = data.sys; 			// 국가명, 일출/일몰			
			var city = data.name; 			// 도시명
			var weather = data.weather; 	// 날씨 객체
			var main = data.main;  			// 온도 기압 관련 객체

			var wmain = weather[0].main; 	// 구름 상태(Cloudiness)
			var w_id = weather[0].id; 		// 날씨상태 id 코드
			var icon = weather[0].icon;		// 날씨 아이콘 정보
			var country = sys.country;  	// 국가명
			var temp = main.temp; 			// 현재 온도
			var temp_min = main.temp_min 	// 최저 온도
			var temp_max = main.temp_max 	// 최고 온도

            // 지역 명
            $('.w_id').append(city + '<br>');

            // 날씨 아이콘
            var icon_url = 'http://openweathermap.org/img/w/' + icon;
            $('.icon').append("<img src='" + icon_url + ".png'>" + '<br>');

            // 현재온도
            $('.temp').append('현재 온도 : ' + parseInt(temp-273.15) + '&deg;');

            $('.temp_max').append('최고 온도 : ' + parseInt(temp_max-273.15) + '&deg;' + '<br>');
            $('.temp_min').append('최저 온도 : ' + parseInt(temp_min-273.15) +'&deg;');
        });


        
    </script>
    
</body>
</html>